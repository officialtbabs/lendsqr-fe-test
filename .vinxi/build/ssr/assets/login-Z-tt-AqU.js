import{jsx as t,jsxs as o}from"react/jsx-runtime";import{useState as a}from"react";import{useMutation as p}from"@tanstack/react-query";import{l as h}from"./ssr-uOiR8CuW.js";import{useNavigate as g}from"@tanstack/react-router";import"@tanstack/router-core";import"@tanstack/start-client-core";import"@tanstack/start-server-core";import"tiny-invariant";import"node:stream";import"isbot";import"react-dom/server";const N=()=>{const s=g(),[n,c]=a(""),[r,u]=a(""),[i,l]=a(""),{mutate:d}=p({mutationFn:h});return t("div",{className:"loginContainer",children:o("div",{className:"loginContent",children:[o("div",{className:"loginHeader",children:[t("h1",{children:"Welcome!"}),t("p",{children:"Enter details to login."})]}),o("form",{className:"loginForm",onSubmit:e=>{if(e.preventDefault(),l(""),!n.includes("@")||r.length<6){l("Invalid email or password (min 6 characters)");return}d({data:{email:n,password:r}},{onSuccess:m=>{m&&localStorage.setItem("user",JSON.stringify(m.user)),s({to:"/"})}})},children:[i&&t("p",{className:"error",children:i}),t("input",{type:"email",placeholder:"Email",value:n,onChange:e=>c(e.target.value),className:"inputField"}),o("div",{className:"passwordField",children:[t("input",{type:"password",placeholder:"Password",value:r,onChange:e=>u(e.target.value),className:"inputField"}),t("button",{type:"button",className:"showPasswordButton textButton",children:"Show"})]}),t("button",{type:"button",className:"forgotPasswordButton textButton",children:"Forgot Password?"}),t("button",{type:"submit",className:"loginButton textButton",children:"Log in"})]})]})})},I=function(){return t(N,{})};export{I as component};
