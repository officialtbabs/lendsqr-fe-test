import{useSession as n}from"@tanstack/start-server-core";import{c as s}from"./index-ujMS-7Qz.js";import{createServerFn as r}from"@tanstack/start-client-core";import"tiny-invariant";const o=1e3*60*60*2,a=()=>n({name:"appSession",password:process.env.REACT_APP_SESSION_SECRET||"a78adf291998852df9c4933f203f76ef6aa0d6bdca3ccf9e8b99f4ba2f3e013f20163b6ac143b5922f415b31a5425731a182a809dd75dcc4cfbb3e5ce076b4fa"}),c=async e=>(await a()).update({...e,expiresAt:Date.now()+o}),i=async()=>await(await a()).clear(),u=s("src_apis_auth_ts--loginFn_createServerFn_handler","/_server",(e,t)=>l.__executeServer(e,t)),_=s("src_apis_auth_ts--logoutFn_createServerFn_handler","/_server",(e,t)=>S.__executeServer(e,t)),d=s("src_apis_auth_ts--getAuthenticationStatus_createServerFn_handler","/_server",(e,t)=>p.__executeServer(e,t)),l=r({method:"POST"}).validator(e=>e).handler(u,async({data:e})=>{const t=await c({userEmail:e.email});if(t.data.userEmail)return{user:{email:t.data.userEmail}}}),S=r().handler(_,async()=>{await i(),console.log("logout")}),p=r({method:"GET"}).handler(d,async()=>!!(await a())?.data?.userEmail);export{d as getAuthenticationStatus_createServerFn_handler,u as loginFn_createServerFn_handler,_ as logoutFn_createServerFn_handler};
